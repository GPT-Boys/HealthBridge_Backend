# üí≥ HealthBridge Subscription Service - README Completo

Servicio de suscripciones y facturaci√≥n con modelo Freemium para HealthBridge. Gestiona planes, pagos con Stripe, y control de l√≠mites de uso.

# üéØ Modelo de Negocio Freemium

## üìä Planes Disponibles

### üÜì BASIC (Gratuito)

Precio: Bs. 0/mes

‚úÖ 2 citas por mes
‚úÖ 100MB de almacenamiento
‚úÖ 1 archivo por registro m√©dico
‚úÖ Historial m√©dico b√°sico
‚úÖ Notificaciones por email
‚úÖ Soporte por email (respuesta en 48h)
‚ùå Sin telemedicina
‚ùå Sin acceso API
‚ùå Sin prioridad

Ideal para: Pacientes ocasionales, prueba del sistema

### ‚≠ê PREMIUM (Bs. 50/mes)

Precio: Bs. 50/mes (~$7 USD)

‚úÖ 10 citas por mes
‚úÖ 500MB de almacenamiento
‚úÖ 5 archivos por registro
‚úÖ Teleconsultas b√°sicas
‚úÖ Recordatorios SMS
‚úÖ Exportar informes PDF
‚úÖ Notificaciones push
‚úÖ Soporte prioritario (respuesta en 24h)
‚úÖ Historial completo
‚ùå Sin API access
‚ùå Sin multi-cl√≠nica

Ideal para: Pacientes regulares, familias peque√±as

### üíé ENTERPRISE (Bs. 120/mes)

Precio: Bs. 120/mes (~$17 USD)

‚úÖ Citas ilimitadas
‚úÖ Almacenamiento ilimitado
‚úÖ Archivos ilimitados
‚úÖ Teleconsultas premium (HD, grabaci√≥n)
‚úÖ API completa con documentaci√≥n
‚úÖ Multi-cl√≠nica (gesti√≥n de m√∫ltiples centros)
‚úÖ Reportes avanzados y analytics
‚úÖ Soporte 24/7 con atenci√≥n inmediata
‚úÖ Branding personalizado
‚úÖ Webhooks personalizados
‚úÖ Exportaci√≥n masiva de datos
‚úÖ Integraciones con sistemas externos

Ideal para: Cl√≠nicas, hospitales, organizaciones m√©dicas

# üìà Comparativa R√°pida

FeatureBASICPREMIUMENTERPRISEPrecioGratisBs. 50/mesBs. 120/mesCitas/mes210‚ôæÔ∏è IlimitadasStorage100MB500MB‚ôæÔ∏è IlimitadoArchivos/registro15‚ôæÔ∏è IlimitadosTelemedicina‚ùå‚úÖ B√°sica‚úÖ PremiumNotificacionesEmailEmail + SMSTodo + PushAPI Access‚ùå‚ùå‚úÖ CompletoMulti-cl√≠nica‚ùå‚ùå‚úÖSoporteEmail 48hPrioritario 24h24/7Exportar PDF‚ùå‚úÖ‚úÖAnalytics‚ùå‚ùå‚úÖ AvanzadoBranding‚ùå‚ùå‚úÖ

# üìã Requisitos

Node.js 18+
MongoDB 5+
Stripe Account (para procesar pagos)
npm 9+

# üöÄ Instalaci√≥n R√°pida

# 1. Navegar al directorio

cd backend/subscription-service

# 2. Dar permisos a scripts (Linux/Mac)

chmod +x setup.sh start-dev.sh start-prod.sh test-service.sh

# 3. Ejecutar setup

./setup.sh

# 4. Configurar Stripe (ver secci√≥n siguiente)

# 5. Iniciar servicio

./start-dev.sh
Para Windows:
bashnpm install
npm run build
npm run dev
‚öôÔ∏è Configuraci√≥n

1. Variables de Entorno
   El servicio usa diferentes archivos .env seg√∫n el entorno:
   .env.development - Desarrollo local:
   env# Server
   PORT=3007
   NODE_ENV=development

# MongoDB

MONGODB_URI=mongodb://localhost:27017/healthbridge-subscriptions

# JWT (debe coincidir con auth-service)

JWT_SECRET=dev-jwt-secret-key-change-in-production-f8a9b2c3d4e5

# Stripe (Test Mode)

STRIPE_SECRET_KEY=sk_test_51ABC...
STRIPE_PUBLISHABLE_KEY=pk_test_51ABC...
STRIPE_WEBHOOK_SECRET=whsec_123...

# Precios (en Bolivianos)

PREMIUM_PRICE=50
ENTERPRISE_PRICE=120

# URLs de servicios

GATEWAY_URL=http://localhost:3000
NOTIFICATION_SERVICE_URL=http://localhost:3005

# Cron Jobs

ENABLE*CRON_JOBS=true
.env.production - Producci√≥n:
envPORT=3007
NODE_ENV=production
MONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/healthbridge-subscriptions
JWT_SECRET=CHANGE-THIS-IN-PRODUCTION
STRIPE_SECRET_KEY=sk_live_51ABC...
STRIPE_WEBHOOK_SECRET=whsec_live*...
PREMIUM_PRICE=50
ENTERPRISE_PRICE=120
ENABLE_CRON_JOBS=true 2. Configurar Stripe
Paso 1: Crear Cuenta en Stripe

Ir a stripe.com y crear cuenta
Activar "Test Mode" (interruptor en la esquina superior derecha)
Ir a Developers > API Keys
Copiar:

Publishable key (empieza con pk*test*)
Secret key (empieza con sk*test*)

Paso 2: Configurar Webhook

Ir a Developers > Webhooks
Click en Add endpoint
Endpoint URL: https://tu-dominio.com/api/subscription/webhook

En desarrollo local usar ngrok: https://abc123.ngrok.io/api/subscription/webhook

Events to send: Seleccionar:

payment_intent.succeeded
payment_intent.payment_failed
customer.subscription.created
customer.subscription.updated
customer.subscription.deleted

Copiar el Signing secret (empieza con whsec\_)

Paso 3: Actualizar .env
envSTRIPE_SECRET_KEY=sk_test_tu_key_aqui
STRIPE_PUBLISHABLE_KEY=pk_test_tu_key_aqui
STRIPE_WEBHOOK_SECRET=whsec_tu_secret_aqui 3. Configurar MongoDB
Desarrollo local:
bash# Instalar MongoDB

# Mac

brew install mongodb-community

# Ubuntu

sudo apt install mongodb

# Iniciar MongoDB

mongod --dbpath ~/data/db
Producci√≥n (MongoDB Atlas):

Crear cuenta en mongodb.com/cloud/atlas
Crear cluster gratuito
Obtener connection string
Actualizar MONGODB_URI en .env.production

üèÉ Ejecuci√≥n
Modo Desarrollo (con hot-reload)
Linux/Mac:
bash./start-dev.sh
Windows:
bashnpm run dev
El servicio iniciar√° en http://localhost:3007
Modo Producci√≥n
Linux/Mac:
bash./start-prod.sh
Windows:
bashnpm run build
npm start
Verificar que est√° corriendo
bashcurl http://localhost:3007/health
üì° API Endpoints
Planes (P√∫blicos)
Obtener todos los planes
httpGET /api/plans
Respuesta:
json{
"success": true,
"count": 3,
"plans": [
{
"type": "basic",
"name": "Plan B√°sico",
"price": 0,
"currency": "BOB",
"interval": "month",
"features": {
"maxAppointments": 2,
"maxStorage": 104857600,
"maxFilesPerRecord": 1,
"telemedicine": false,
"apiAccess": false
}
}
// ... m√°s planes
]
}
Obtener plan espec√≠fico
httpGET /api/plans/:type
Ejemplo:
bashcurl http://localhost:3007/api/plans/premium
Suscripciones (Requieren autenticaci√≥n)
Obtener mi suscripci√≥n actual
httpGET /api/subscription/my-subscription
Authorization: Bearer <token>
Respuesta:
json{
"success": true,
"subscription": {
"userId": "user123",
"plan": {
"type": "premium",
"name": "Plan Premium",
"price": 50
},
"status": "active",
"startDate": "2025-01-01T00:00:00.000Z",
"endDate": "2025-02-01T00:00:00.000Z",
"autoRenew": true,
"paymentMethod": "stripe"
}
}
Crear suscripci√≥n
httpPOST /api/subscription
Authorization: Bearer <token>
Content-Type: application/json

{
"planType": "premium",
"paymentMethod": "stripe"
}
Respuesta:
json{
"success": true,
"message": "Suscripci√≥n creada exitosamente",
"subscription": { ... },
"stripeClientSecret": "pi_xxx_secret_yyy"
}
Hacer upgrade
httpPOST /api/subscription/upgrade
Authorization: Bearer <token>
Content-Type: application/json

{
"planType": "enterprise"
}
Respuesta:
json{
"success": true,
"message": "Upgrade realizado exitosamente",
"subscription": { ... },
"stripeClientSecret": "pi_xxx_secret_yyy"
}
Hacer downgrade
httpPOST /api/subscription/downgrade
Authorization: Bearer <token>
Content-Type: application/json

{
"planType": "basic"
}
Respuesta:
json{
"success": true,
"message": "Downgrade programado para el final del per√≠odo actual",
"subscription": { ... }
}
Cancelar suscripci√≥n
httpPOST /api/subscription/cancel
Authorization: Bearer <token>
Content-Type: application/json

{
"reason": "No lo uso suficiente",
"feedback": "El servicio es bueno pero..."
}
Respuesta:
json{
"success": true,
"message": "Suscripci√≥n cancelada. Tendr√°s acceso hasta el final del per√≠odo actual",
"accessUntil": "2025-02-01T00:00:00.000Z"
}
Uso (Tracking de l√≠mites)
Obtener uso actual del mes
httpGET /api/usage/current
Authorization: Bearer <token>
Respuesta:
json{
"success": true,
"usage": {
"userId": "user123",
"month": "2025-01",
"appointments": {
"used": 5,
"limit": 10,
"remaining": 5
},
"storage": {
"used": 256000000,
"limit": 524288000,
"remaining": 268288000,
"usedFormatted": "244 MB",
"limitFormatted": "500 MB"
},
"filesPerRecord": {
"used": 3,
"limit": 5,
"remaining": 2
}
}
}
Verificar si puede usar una funcionalidad
httpGET /api/usage/check/appointments
Authorization: Bearer <token>
Respuesta:
json{
"success": true,
"allowed": true,
"used": 5,
"limit": 10,
"remaining": 5
}
Cuando alcanza el l√≠mite:
json{
"success": false,
"allowed": false,
"message": "Has alcanzado el l√≠mite de citas para tu plan",
"used": 10,
"limit": 10,
"suggestedPlan": "premium"
}
Registrar uso de una funcionalidad
httpPOST /api/usage/track
Authorization: Bearer <token>
Content-Type: application/json

{
"type": "appointment",
"metadata": {
"appointmentId": "appt123"
}
}
Respuesta:
json{
"success": true,
"message": "Uso registrado exitosamente",
"usage": {
"appointments": {
"used": 6,
"limit": 10,
"remaining": 4
}
}
}
Webhook de Stripe
httpPOST /api/subscription/webhook
Stripe-Signature: signature_from_stripe
Content-Type: application/json

{
"type": "payment_intent.succeeded",
"data": { ... }
}
üîó Integraci√≥n con Otros Servicios
Ejemplo: Verificar l√≠mite antes de crear cita (Appointment Service)
typescript// En tu Appointment Service
import axios from 'axios';

async function createAppointment(userId: string, appointmentData: any) {
// 1. Verificar l√≠mite de citas
try {
const response = await axios.get(
'http://localhost:3007/api/usage/check/appointments',
{
headers: {
Authorization: `Bearer ${token}`
}
}
);

    if (!response.data.allowed) {
      return {
        error: 'Has alcanzado el l√≠mite de citas de tu plan',
        suggestedPlan: response.data.suggestedPlan,
        currentUsage: response.data.used,
        limit: response.data.limit
      };
    }

} catch (error) {
console.error('Error verificando l√≠mite:', error);
throw error;
}

// 2. Crear la cita
const appointment = await Appointment.create(appointmentData);

// 3. Registrar el uso
try {
await axios.post(
'http://localhost:3007/api/usage/track',
{
type: 'appointment',
metadata: {
appointmentId: appointment.\_id
}
},
{
headers: {
Authorization: `Bearer ${token}`
}
}
);
} catch (error) {
console.error('Error registrando uso:', error);
// No fallar la creaci√≥n de la cita por esto
}

return appointment;
}
Ejemplo: Middleware para proteger rutas por plan
typescript// En cualquier servicio
import axios from 'axios';
import { Request, Response, NextFunction } from 'express';

async function requirePlan(requiredPlan: string) {
return async (req: Request, res: Response, next: NextFunction) => {
try {
const token = req.headers.authorization?.split(' ')[1];

      const response = await axios.get(
        'http://localhost:3007/api/subscription/my-subscription',
        {
          headers: { Authorization: `Bearer ${token}` }
        }
      );

      const userPlan = response.data.subscription.plan.type;

      // Definir jerarqu√≠a de planes
      const planHierarchy = ['basic', 'premium', 'enterprise'];
      const userPlanLevel = planHierarchy.indexOf(userPlan);
      const requiredPlanLevel = planHierarchy.indexOf(requiredPlan);

      if (userPlanLevel < requiredPlanLevel) {
        return res.status(403).json({
          error: 'Plan insuficiente',
          message: `Esta funcionalidad requiere el plan ${requiredPlan}`,
          currentPlan: userPlan,
          requiredPlan: requiredPlan
        });
      }

      next();
    } catch (error) {
      return res.status(500).json({
        error: 'Error verificando suscripci√≥n'
      });
    }

};
}

// Uso en rutas
app.get('/api/telemedicine', requirePlan('premium'), handleTelemedicine);
app.get('/api/analytics', requirePlan('enterprise'), handleAnalytics);
üß™ Testing
Test Autom√°tico
bash./test-service.sh
Tests Manuales con curl
bash# 1. Health check
curl http://localhost:3007/health

# 2. Obtener planes

curl http://localhost:3007/api/plans

# 3. Obtener mi suscripci√≥n (necesitas token)

curl -H "Authorization: Bearer <tu-token>" \
 http://localhost:3007/api/subscription/my-subscription

# 4. Ver uso actual

curl -H "Authorization: Bearer <tu-token>" \
 http://localhost:3007/api/usage/current

# 5. Verificar l√≠mite de citas

curl -H "Authorization: Bearer <tu-token>" \
 http://localhost:3007/api/usage/check/appointments

# 6. Crear suscripci√≥n Premium

curl -X POST http://localhost:3007/api/subscription \
 -H "Authorization: Bearer <tu-token>" \
 -H "Content-Type: application/json" \
 -d '{"planType":"premium","paymentMethod":"stripe"}'
Test de Webhook de Stripe
bash# Usar Stripe CLI
stripe listen --forward-to localhost:3007/api/subscription/webhook

# En otra terminal, simular evento

stripe trigger payment_intent.succeeded
üê≥ Docker
Dockerfile
dockerfileFROM node:18-alpine

WORKDIR /app

COPY package\*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3007

CMD ["npm", "start"]
Build y Run
bash# Build
docker build -t healthbridge-subscription .

# Run

docker run -p 3007:3007 \
 -e MONGODB*URI=mongodb://mongo:27017/healthbridge-subscriptions \
 -e STRIPE_SECRET_KEY=sk_test*... \
 --name subscription-service \
 healthbridge-subscription
Docker Compose
yamlversion: '3.8'

services:
subscription-service:
build: ./subscription-service
ports: - "3007:3007"
environment: - NODE_ENV=production - MONGODB_URI=mongodb://mongo:27017/healthbridge-subscriptions - STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}
      - JWT_SECRET=${JWT_SECRET}
depends_on: - mongo
networks: - healthbridge-network

mongo:
image: mongo:6
volumes: - subscription-data:/data/db
networks: - healthbridge-network

volumes:
subscription-data:

networks:
healthbridge-network:
external: true

```

## üöÄ Despliegue a Producci√≥n

### Render.com

1. Crear nuevo **Web Service**
2. Conectar repositorio
3. **Root Directory:** `backend/subscription-service`
4. **Build Command:** `npm install && npm run build`
5. **Start Command:** `npm start`
6. **Environment Variables:**
```

NODE*ENV=production
PORT=3007
MONGODB_URI=mongodb+srv://...
JWT_SECRET=strong-secret
STRIPE_SECRET_KEY=sk_live*...
STRIPE*WEBHOOK_SECRET=whsec*...
PREMIUM_PRICE=50
ENTERPRISE_PRICE=120
Railway.app
bashrailway login
railway init
railway add
railway up
Verificar Deployment
bashcurl https://tu-servicio.onrender.com/health

```

## üìÇ Estructura del Proyecto
```

subscription-service/
‚îú‚îÄ‚îÄ src/
‚îÇ ‚îú‚îÄ‚îÄ config/
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ database.ts # Configuraci√≥n MongoDB
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ env.ts # Variables de entorno
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ stripe.config.ts # Configuraci√≥n Stripe
‚îÇ ‚îú‚îÄ‚îÄ models/
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ Plan.ts # Schema de planes
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ Subscription.ts # Schema de suscripciones
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ UsageTracking.ts # Schema de uso
‚îÇ ‚îú‚îÄ‚îÄ services/
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ SubscriptionService.ts # L√≥gica de suscripciones
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ UsageService.ts # Tracking de uso
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ StripeService.ts # Integraci√≥n Stripe
‚îÇ ‚îú‚îÄ‚îÄ controllers/
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ SubscriptionController.ts
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ PlanController.ts
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ UsageController.ts
‚îÇ ‚îú‚îÄ‚îÄ middleware/
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ auth.middleware.ts # Verificaci√≥n JWT
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ checkSubscription.ts # Verificar suscripci√≥n activa
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ checkFeature.ts # Verificar acceso a feature
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ checkLimit.ts # Verificar l√≠mites
‚îÇ ‚îú‚îÄ‚îÄ routes/
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ subscription.routes.ts
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ plan.routes.ts
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ usage.routes.ts
‚îÇ ‚îú‚îÄ‚îÄ jobs/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ subscriptionJobs.ts # Cron jobs
‚îÇ ‚îú‚îÄ‚îÄ utils/
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ logger.ts # Winston logger
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ errors.ts # Error handlers
‚îÇ ‚îî‚îÄ‚îÄ index.ts # Entrada principal
‚îú‚îÄ‚îÄ logs/ # Logs del servicio
‚îú‚îÄ‚îÄ dist/ # Build de producci√≥n
‚îú‚îÄ‚îÄ .env.development # Variables desarrollo
‚îú‚îÄ‚îÄ .env.production # Variables producci√≥n
‚îú‚îÄ‚îÄ .env.example # Ejemplo de variables
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ nodemon.json
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ .dockerignore
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ setup.sh # Script de instalaci√≥n
‚îú‚îÄ‚îÄ start-dev.sh # Script desarrollo
‚îú‚îÄ‚îÄ start-prod.sh # Script producci√≥n
‚îú‚îÄ‚îÄ test-service.sh # Script de testing
‚îî‚îÄ‚îÄ README.md
üîß Troubleshooting
Servicio no inicia
Problema: Puerto 3007 en uso
bash# Linux/Mac
lsof -i :3007
kill -9 <PID>

# Windows

netstat -ano | findstr :3007
taskkill /PID <PID> /F
Problema: No puede conectar a MongoDB
bash# Verificar que MongoDB est√° corriendo
mongosh

# Ver URI de conexi√≥n

echo $MONGODB_URI

# Verificar credenciales en MongoDB Atlas

Stripe no funciona
Problema: Webhook signature invalid

Verifica que el STRIPE_WEBHOOK_SECRET es correcto
Usa Stripe CLI para testing local: stripe listen --forward-to localhost:3007/api/subscription/webhook

Problema: Payment fails

Verifica que est√°s en Test Mode en Stripe
Usa tarjetas de prueba de Stripe: 4242 4242 4242 4242

Cron Jobs no se ejecutan
bash# Verificar que est√° habilitado
echo $ENABLE_CRON_JOBS # Debe ser 'true'

# Ver logs de cron

tail -f logs/combined.log | grep "Cron"
L√≠mites no se aplican correctamente
bash# Verificar uso actual de un usuario
curl -H "Authorization: Bearer <token>" \
 http://localhost:3007/api/usage/current

# Verificar plan del usuario

curl -H "Authorization: Bearer <token>" \
 http://localhost:3007/api/subscription/my-subscription

# Resetear uso (solo desarrollo)

# Eliminar documento en UsageTracking collection

üìö Documentaci√≥n Adicional
Cambiar precios de planes
Editar src/config/plans.config.ts:
typescriptexport const PLANS = {
premium: {
price: 75, // Cambiar precio
// ... resto
}
};
Actualizar .env:
envPREMIUM_PRICE=75
Agregar nueva funcionalidad con l√≠mite

Actualizar modelo de Plan:

typescript// src/models/Plan.ts
features: {
// ... features existentes
maxVideoStorage: { type: Number, default: 0 }
}

Actualizar tracking:

typescript// src/models/UsageTracking.ts
videoStorage: { type: Number, default: 0 }

Agregar verificaci√≥n:

typescript// src/services/UsageService.ts
async checkVideoStorage(userId: string): Promise<boolean> {
const usage = await this.getCurrentUsage(userId);
const subscription = await Subscription.findOne({ userId });
const limit = subscription.plan.features.maxVideoStorage;
return usage.videoStorage < limit;
}
Personalizar emails de notificaci√≥n
Editar src/services/SubscriptionService.ts:
typescriptprivate async sendUpgradeEmail(userId: string, plan: string) {
// Personalizar contenido del email
await axios.post(`${NOTIFICATION_SERVICE_URL}/send`, {
to: userEmail,
subject: 'Tu plan se actualiz√≥',
template: 'upgrade',
data: {
planName: plan,
// ... datos personalizados
}
});
}
üéì Mejores Pr√°cticas
Seguridad

‚úÖ Nunca exponer STRIPE_SECRET_KEY en el frontend
‚úÖ Siempre verificar signature de webhooks de Stripe
‚úÖ Usar HTTPS en producci√≥n
‚úÖ Validar todos los inputs
‚úÖ Rate limiting en endpoints sensibles

Performance

‚úÖ Cachear planes (raramente cambian)
‚úÖ Indexar campos frecuentemente consultados en MongoDB
‚úÖ Usar projection en queries para traer solo campos necesarios
‚úÖ Implementar paginaci√≥n en listados

Escalabilidad

‚úÖ Usar Redis para cach√© distribuido
‚úÖ Queue para procesar pagos (Bull, BeeQueue)
‚úÖ Separar webhook handler en servicio aparte
‚úÖ Monitorear m√©tricas (New Relic, Datadog)

üìä Monitoreo
M√©tricas Clave

Tasa de conversi√≥n Basic ‚Üí Premium
Churn rate (cancelaciones)
MRR (Monthly Recurring Revenue)
Uso promedio por plan
Tiempo de respuesta de APIs

Logs Importantes
bash# Ver todos los upgrades
tail -f logs/combined.log | grep "Upgrade"

# Ver pagos fallidos

tail -f logs/combined.log | grep "Payment failed"

# Ver l√≠mites alcanzados

tail -f logs/combined.log | grep "Limit reached"
üìû Soporte
Para problemas o preguntas:

Revisar esta documentaci√≥n
Ver logs en logs/combined.log
Verificar configuraci√≥n de Stripe
Contactar al equipo de desarrollo

# üìÑ Licencia

MIT License

# üë• Equipo

HealthBridge Team - Sistema de Gesti√≥n M√©dica

‚ú® Subscription Service completo y listo para producci√≥n!
